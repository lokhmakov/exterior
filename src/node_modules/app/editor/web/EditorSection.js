import React, { Component } from 'react'


import Stage                from '2d/stage/web/Stage'
import Image                from '2d/image/web/Image'

import projectQuery         from 'app/project/api/local/query'
import Query                from 'core/query/web/Query'

import Block                from 'layout/web/Block'

import createDebugger       from 'core/debug/api/create'


const debug = createDebugger(`app:editor:web:EditorSection`)

class EditorSection extends Component {
  renderProjectQuery = ({ data, order }) => {
    const { id } = this.props

    if (!data[id]) return null

    const { imageLink } = data[id]

    debug(`renderProjectQuery`, imageLink)

    return (
      <Image
        imageLink={ imageLink }
        width={ 800 }
      />
    )
  }

  render() {
    return (
      <Block style={{ height: 600 }} center middle>
        <Stage>
          <Query
            name='projectQuery'
            entity='project'

            query={ projectQuery }
          >
            { this.renderProjectQuery }
          </Query>
        </Stage>
      </Block>
    )
  }
}

export default EditorSection