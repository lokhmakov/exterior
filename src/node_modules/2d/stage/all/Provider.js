import React, { Component } from 'react'


import Context              from '2d/stage/all/Context'
import createDebugger       from 'core/debug/api/create'


const debug = createDebugger(`2d:stage:all:Provider`)

class Provider extends Component {
  state = {
    app: null,
  }

  set = ({ app }) => {
    debug(`set()`)

    this.setState({ app })
  }

  render() {
    const { app } = this.state

    const value = {
      app,
      set: this.set,
    }

    return (
      <Context.Provider value={ value }>
        { this.props.children }
      </Context.Provider>
    )
  }
}

export default Provider